<div class="flexcol" style="max-height: 100%">
<div class="flexrow" style="flex: 0">
  <nav class="compendium-browser-tabs">
    <a class='item browser {{#ifeq type "items" }}active{{/ifeq}}' data-type="items" data-entity-type="Item">{{ localize "D35E.Items" }}</a>
    <a class='item browser {{#ifeq type "spells" }}active{{/ifeq}}' data-type="spells" data-entity-type="Item">{{ localize "D35E.Spells" }}</a>
    <a class='item browser {{#ifeq type "feats" }}active{{/ifeq}}' data-type="feats" data-entity-type="Item">{{ localize "D35E.FeatPlural" }}</a>
    <a class='item browser {{#ifeq type "enhancements" }}active{{/ifeq}}' data-type="enhancements" data-entity-type="Item">{{ localize "D35E.Enhancements" }}</a>
    <a class='item browser {{#ifeq type "buffs" }}active{{/ifeq}}' data-type="buffs" data-entity-type="Item">{{ localize "D35E.Buffs" }}</a>
    <a class='item browser {{#ifeq type "bestiary" }}active{{/ifeq}}' data-type="bestiary" data-entity-type="Actor">{{ localize "D35E.Bestiary" }}</a>
    <div class="loader-div flexcol">
      <div id="d35e-compendium-browser-loader" style="display: none" class="loader">
        <span id="d35e-compendium-browser-loader-bar" class="loader-bar" style="width:54.5945945945946%"></span>
        <span id="d35e-compendium-browser-loader-label" class="loader-label">Light Load (37)</span>
      </div>
    </div>
  </nav>
</div>
<div class="compendium-browser flexrow" data-type="{{type}}" style="height: calc(100% - 32px);">
  <header class="header">
    <div class="search">
      <i class="fas fa-search"></i>
      <input type="text" name="search" class="search-box" value="{{searchString}}" placeholder="Search" autocomplete="off" />
    </div>

    <div class="filter-container">
      {{#each filters as |filter|}}
      <div class="filter" data-path="{{filter.path}}">
        <h3 class="rollable">{{filter.label}}</h3>
        <div class="filter-content clexcol">
          {{#each filter.items as |i|}}
          <div class="flexrow" style="padding: 0 4px">
            <label class="checkbox" style="position: relative; flex: 0 20px">
              <input type="checkbox" class="stylized" name="{{i.key}}"/>
              <span class="checkmark"></span>
            </label>
            <label style="line-height: 22px; margin-left: 4px">{{i.name}}</label>
          </div>
          {{/each}}
        </div>
      </div>
      {{/each}}
    </div>
    <div class="flexcol">
      <button class="refresh">{{localize "D35E.Refresh"}}</button>
    </div>
  </header>

  <div class="directory-container">
    <ol class="directory-list">
      {{#each collection as |c|}}
      <li class="directory-item flexrow" data-collection="{{c.collection}}" data-entry-id="{{c.item.uuid}}">
        <img class="profile" src="{{c.item.img}}" title="{{c.item.name}}"/>
        <div class="flexcol">
          <h4 class="entry-name"><a>{{c.item.name}}</a>
            {{#if c.item.isSpell}}
            <span style="margin-left: 4px; opacity: 0.7;">
              {{localize "D35E.Level"}}: {{c.item.system.level}}
            </span>
            {{/if}}
            
            <span style="opacity: 0.8; float: right; margin-right: 12px;">{{c.packname}}{{#if c.issystem}}<i class="fas fa-shield-alt" style="color: darkgreen; margin-left: 4px;"></i>{{/if}}</span></h4>
          {{#if c.item.isSpell}}
          <span style="margin-left: 4px;">
            {{c.item.system.snip}}
          </span>
          {{else}}
          <span style="margin-left: 4px;">
            
          </span>
          {{/if}}
        </div>
      </li>
      {{/each}}
    </ol>
  </div>
</div>
</div>
